{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

	 <!-- Bootstrap CSS -->
	 <link rel="stylesheet" href="{% static 'main/preloader.css' %}">
     <link rel="stylesheet" href="{% static 'main/bootstrap.css' %}">
	 <link rel="stylesheet" href="{% static 'main/header.css' %}">
	 <link rel="stylesheet" href="{% static 'main/rooms.css' %}">
	 <link rel="stylesheet" href="{% static 'main/advantages.css' %}">
	  <link rel="stylesheet" href="{% static 'main/footer/footer.css' %}">
	  <link href="https://fonts.googleapis.com/css?family=Montserrat:100" rel="stylesheet">
	  <link rel="icon" href="{% static 'main/images/main_image.png' %}">

    <title>Комнаты</title>
  </head>
  <body>
    {% include 'main/preloader.html' %}
	{% include "main/header.html" %}


    <!-- Комнаты -->
	 <div class="rooms">
		<div class="container-sm mb-5">
			<div class="row">
				<div class="col d-flex flex-column justify-content-center align-items-center mt-5 py-2 border-orange shadow">
					<h1 class="section-headname">Наши апартаменты</h1>
					<p class="section-description">Комфорт в любое время</p>
				</div>
			</div>

				<!-- Комната -->
				{% for room in rooms %}
				<div class="room-el col-12 my-5">
					<div class="row">

						<!-- Слайдер -->
						<div class="image-container col-12 col-lg-6 ">
							<div id="room-{{ room.id }}" class="carousel slide room col-12 shadow" data-bs-interval="false" data-bs-ride="carousel">
								<div class="carousel-indicators">
									{% for url in room.url_list %}
									<button type="button" data-bs-target="#room-{{ room.id }}" data-bs-slide-to="{{ url.id }}" aria-label="Slide {{ url.slide_number }}"></button>
									{% endfor %}
								</div>
								<div class="carousel-inner">


									{% for url in room.url_list %}
									<div class="carousel-item">
							  			<img src="{{ url.path }}" class="d-block w-100" alt="...">
							  			<!-- <div class="carousel-caption d-none d-md-block">
								 			<h5>Комната 1</h5>
								 			<p>фото 1</p>
							  			</div> -->
									</div>
									{% endfor %}


								 </div>
								<button class="carousel-control-prev carousel-control" type="button" data-bs-target="#room-{{ room.id }}"  data-bs-slide="prev">
								  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
								  <span class="visually-hidden">Предыдущий</span>
								</button>
								<button class="carousel-control-next carousel-control" type="button" data-bs-target="#room-{{ room.id }}"  data-bs-slide="next">
								  <span class="carousel-control-next-icon" aria-hidden="true"></span>
								  <span class="visually-hidden">Следующий</span>
								</button>
							 </div>
						</div>


						<!-- Cтоимость, хар... -->
						<div class="description col-12 col-lg-6 d-flex flex-column justify-space-around align-space-around mt-3 shadow">



							<ul class="nav nav-pills mb-3 mx-auto" style="font-weight: 650;" id="pills-tab-1" role="tablist">
								<li class="nav-item text-white room-desc-button section-headname" role="presentation">
								  <button class="nav-link active btn-secondary" id="pills-home-tab-{{ room.id }}" data-bs-toggle="pill" data-bs-target="#pills-home-{{ room.id }}" type="button" role="tab" aria-controls="pills-home-{{ room.id }}" aria-selected="true">Стоимость</button>
								</li>
								<li class="nav-item text-white room-desc-button section-headname" role="presentation">
								  <button class="nav-link btn-secondary" id="pills-profile-tab-{{ room.id }}" data-bs-toggle="pill" data-bs-target="#pills-profile-{{ room.id }}" type="button" role="tab" aria-controls="pills-profile-{{ room.id }}" aria-selected="false">Девайсы</button>
								</li>
								<li class="nav-item text-white room-desc-button section-headname" role="presentation">
								  <button class="nav-link btn-secondary" id="pills-contact-tab-{{ room.id }}" data-bs-toggle="pill" data-bs-target="#pills-contact-{{ room.id }}" type="button" role="tab" aria-controls="pills-contact-{{ room.id }}" aria-selected="false">Принадлежности</button>
								</li>
							 </ul>
							 <div class="tab-content justify-content-start" id="pills-tabContent">
								<div class="tab-pane fade show active" id="pills-home-{{ room.id }}" role="tabpanel" aria-labelledby="pills-home-{{ room.id }}-tab">
									<ul class="dbl-border">
										{% for cost in room.costs %}
										<li class="section-headname"><span>{{cost.cost}}</span></li>
										{% endfor %}
									</ul>
								</div>
								<div class="tab-pane fade" id="pills-profile-{{ room.id }}" role="tabpanel" aria-labelledby="pills-profile-tab-{{ room.id }}">
									<ul class="dbl-border">
										{% for device in room.devices %}
										<li class="section-headname"><span>{{device.device}}</span></li>
										{% endfor %}
									</ul>
								</div>
								<div class="tab-pane fade" id="pills-contact-{{ room.id }}" role="tabpanel" aria-labelledby="pills-contact-tab-{{ room.id }}">
									<ul class="dbl-border">
										{% for accessory in room.accessories %}
										<li class="section-headname"><span>{{accessory.accessory}}</span></li>
										{% endfor %}
									</ul>
								</div>
							 </div>

							 <!-- Modal -->
							<div class="modal fade" id="callForm" tabindex="-1" role="dialog" aria-labelledby="callFormLabel" aria-hidden="true">
  								<div class="modal-dialog" role="document">
    								<div class="modal-content">
      									<div class="modal-header">
												<h5 class="modal-title mx-4 headname mt-4 section-description" id="callFormLabel" style=" text-transform: uppercase;"><span class="ml-2" style="color: var(--main-color); font-weight: bold;">Забронировать</span> комнату </h5>
        									<button type="button" class="close btn btn-secondary callFormButtonClose" data-dismiss="modal" aria-label="Close">
          									<span class="" aria-hidden="true">&times;</span>
        									</button>
      									</div>

      									<div class="modal-body">



        									<form class="col-12 g-5 modal-form" action="" method="POST">
				 							{% csrf_token %}
												<div class="col-12">
													{{ form.name.errors }}
				  									<label for="{{ form.name.id_for_label }}" class="form-label">Имя</label>
													{{ form.name }}
												</div>
												<div class="col-12">
													{{ form.number.errors }}
				  									<label for="{{ form.number.id_for_label }}" class="form-label">Номер телефона</label>
													{{ form.number }}
												</div>
												<div class="col-12">
				  									<div class="form-check my-3">
					  									{{ form.checkbox.errors }}
					  									{{ form.checkbox }}
														  {{ form.is_bot }}
					 									<label class="form-check-label" for="{{ form.checkbox.id_for_label }}">
															Мы не сохраняем ваши личные данные
					 									</label>
					  									{{ form.non_field_errors }}
				  									</div>
												</div>




      									</div>

      									<div class="modal-footer">
        								<button type="button" class="callFormButtonClose btn btn-secondary section-headname" data-dismiss="modal">Закрыть</button>
        								<button type="submit" class="btn btn-secondary section-headname">Позвоните мне!</button>
      									</div>
										</form>
    								</div>
  								</div>
							</div>
							<!-- Modal end -->


							<!-- Кнопка -->
							 <button type="button" class="callFormButtonOpen btn button7 mx-auto w-50 my-4 section-headname" data-toggle="modal" data-target="#callForm">Забронировать</button>
						</div>
					</div>
				</div>
				{% endfor %}

				</div>
			</div>
		</div>
	 </div>

	{% include 'main/advantages.html' %}
	{% include 'main/footer.html' %}


	
    <script src="{% static 'main/carousel_activator.js' %}"></script>
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  	<script>$(document).ready(function() {
  			$('.callFormButtonOpen').on('click', ()=>{
  				$('#callForm').modal('show');
  			})
  			$('.callFormButtonClose').on('click', ()=>{
  				$('#callForm').modal('hide');
  			})

  		});
	</script>
  <script src="{% static 'main/burger.js' %}"></script>
  <script>
	$(document).ready(function() {
		$('form').on('submit', ()=>{
			$('.preloader-container').removeClass('hidden');
		})

	});
</script>
  </body>
</html>